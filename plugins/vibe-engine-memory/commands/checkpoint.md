---
name: checkpoint
description: ç®¡ç†ç‹€æ…‹å¿«ç…§ï¼ˆå»ºç«‹ã€é©—è­‰ã€åˆ—å‡ºã€æ¸…ç†ï¼‰
arguments:
  - name: action
    description: æ“ä½œé¡å‹ (create/verify/list/clear/delete)
    required: true
  - name: name
    description: å¿«ç…§åç¨±ï¼ˆcreate/verify/delete æ™‚éœ€è¦ï¼‰
    required: false
  - name: description
    description: å¿«ç…§æè¿°ï¼ˆcreate æ™‚å¯é¸ï¼‰
    required: false
---

# /checkpoint

## æ¦‚è¿°

ç®¡ç†ç‹€æ…‹å¿«ç…§ï¼Œæ”¯æ´å»ºç«‹ã€é©—è­‰ã€åˆ—å‡ºå’Œæ¸…ç†æ“ä½œã€‚ç”¨æ–¼æ¨™è¨˜é–‹ç™¼é‡Œç¨‹ç¢‘ä¸¦è¿½è¹¤é€²åº¦ã€‚

## ä½¿ç”¨æ–¹å¼

```bash
/checkpoint create feature-start --description "é–‹å§‹å¯¦ä½œç™»å…¥åŠŸèƒ½"
/checkpoint verify feature-start
/checkpoint list
/checkpoint clear
/checkpoint delete old-checkpoint
```

## åƒæ•¸

| åƒæ•¸ | å¿…è¦ | æè¿° |
|------|------|------|
| action | æ˜¯ | create/verify/list/clear/delete |
| name | å¦ | å¿«ç…§åç¨±ï¼ˆè‹±æ•¸å­—å’Œé€£å­—è™Ÿï¼‰ |
| --description | å¦ | å¿«ç…§æè¿° |

## åŸ·è¡Œé‚è¼¯

### create - å»ºç«‹å¿«ç…§

```javascript
const { CheckpointManager } = require('./hooks/scripts/lib/checkpoint-manager');
const manager = new CheckpointManager(checkpointsDir);

const result = manager.create(name, {
  description: args.description
});

// è¨˜éŒ„ï¼š
// - Git SHA
// - Git ç‹€æ…‹ï¼ˆclean/dirtyï¼‰
// - æª”æ¡ˆæ•¸é‡
// - æ™‚é–“æˆ³
```

### verify - é©—è­‰å¿«ç…§

```javascript
const result = manager.verify(name);

// æ¯”è¼ƒï¼š
// - SHA æ˜¯å¦è®Šæ›´
// - æª”æ¡ˆæ•¸é‡å·®ç•°
// - Git ç‹€æ…‹å·®ç•°
```

### list - åˆ—å‡ºå¿«ç…§

```javascript
const checkpoints = manager.list({ limit: 20 });
console.log(manager.formatForDisplay(checkpoints));
```

### clear - æ¸…ç†å¿«ç…§

```javascript
const result = manager.clear(5);  // ä¿ç•™æœ€è¿‘ 5 å€‹
console.log(`Deleted ${result.deleted} checkpoints`);
```

### delete - åˆªé™¤å–®å€‹å¿«ç…§

```javascript
const result = manager.delete(name);
```

## è¼¸å‡ºç¯„ä¾‹

### create

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           Checkpoint Created                     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Name: feature-start                              â•‘
â•‘ Description: é–‹å§‹å¯¦ä½œç™»å…¥åŠŸèƒ½                     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ SHA: 246adbb                                     â•‘
â•‘ Status: ğŸŸ¢ clean                                 â•‘
â•‘ Files: 42                                        â•‘
â•‘ Time: 2026-02-05T10:30:00Z                       â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ ğŸ’¾ Saved to .vibe-engine/checkpoints/feature-start/
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### verify

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           Checkpoint Verification                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Comparing: feature-start â†’ current               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                  Checkpoint    Current           â•‘
â•‘ SHA:             246adbb       3f8c1a2           â•‘
â•‘ Status:          clean         dirty             â•‘
â•‘ Files:           42            45 (+3)           â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Result: âš ï¸ MODIFIED                              â•‘
â•‘                                                  â•‘
â•‘ Changes detected since checkpoint.               â•‘
â•‘ Consider creating a new checkpoint.              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### list

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           Checkpoints                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total: 3 checkpoints                             â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                  â•‘
â•‘ ğŸŸ¢ feature-complete                              â•‘
â•‘    Created: 2026-02-05 | SHA: 3f8c1a2 | Files: 45â•‘
â•‘    åŠŸèƒ½å¯¦ä½œå®Œæˆ                                   â•‘
â•‘                                                  â•‘
â•‘ ğŸŸ¡ feature-start                                 â•‘
â•‘    Created: 2026-02-05 | SHA: 246adbb | Files: 42â•‘
â•‘    é–‹å§‹å¯¦ä½œç™»å…¥åŠŸèƒ½                               â•‘
â•‘                                                  â•‘
â•‘ ğŸŸ¢ initial                                       â•‘
â•‘    Created: 2026-02-04 | SHA: a0c4fdd | Files: 40â•‘
â•‘                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### clear

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           Checkpoints Cleaned                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Deleted: 2 old checkpoints                       â•‘
â•‘ Kept: 5 recent checkpoints                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## ç‹€æ…‹åœ–ç¤º

| ç‹€æ…‹ | åœ–ç¤º | æè¿° |
|------|------|------|
| clean | ğŸŸ¢ | Git ä¹¾æ·¨ï¼Œç„¡æœªæäº¤è®Šæ›´ |
| dirty | ğŸŸ¡ | Git æœ‰æœªæäº¤è®Šæ›´ |
| unknown | âšª | ç„¡æ³•ç¢ºå®šç‹€æ…‹ |

## é©—è­‰çµæœ

| çµæœ | æè¿° |
|------|------|
| unchanged | èˆ‡å¿«ç…§å®Œå…¨ä¸€è‡´ |
| modified | SHA å·²è®Šæ›´ |
| files_changed | æª”æ¡ˆæ•¸é‡è®ŠåŒ–ä½† SHA æœªè®Š |

## å„²å­˜ä½ç½®

```
.vibe-engine/checkpoints/
â”œâ”€â”€ {name}/
â”‚   â”œâ”€â”€ state.json      # å¿«ç…§ç‹€æ…‹
â”‚   â””â”€â”€ files.txt       # æª”æ¡ˆæ¸…å–®
â””â”€â”€ checkpoints.log     # æ“ä½œæ—¥èªŒ
```

## æœ€ä½³å¯¦è¸

1. **é–‹å§‹æ–°åŠŸèƒ½å‰** å‰µå»º checkpoint
2. **å®ŒæˆåŠŸèƒ½å¾Œ** å‰µå»ºæ–° checkpoint
3. **å®šæœŸæ¸…ç†** é¿å…ç´¯ç©éå¤šå¿«ç…§
4. **æœ‰æ„ç¾©çš„å‘½å** ä½¿ç”¨æè¿°æ€§åç¨±

## ç›¸é—œå‘½ä»¤

- `/status` - ç³»çµ±ç‹€æ…‹
- `/verify` - åŸ·è¡Œé©—è­‰

## å°æ‡‰ Lib

- `hooks/scripts/lib/checkpoint-manager.js` - CheckpointManager
